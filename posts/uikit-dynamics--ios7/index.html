<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Ckitakishi.playground"/><link rel="canonical" href="ckitakishi.com/posts/uikit-dynamics--ios7"/><meta name="twitter:url" content="ckitakishi.com/posts/uikit-dynamics--ios7"/><meta name="og:url" content="ckitakishi.com/posts/uikit-dynamics--ios7"/><title>UIKit Dynamics--iOS7 | Ckitakishi.playground</title><meta name="twitter:title" content="UIKit Dynamics--iOS7 | Ckitakishi.playground"/><meta name="og:title" content="UIKit Dynamics--iOS7 | Ckitakishi.playground"/><meta name="description" content="Dynamic Items 为我们带来更丰富的动画体验。"/><meta name="twitter:description" content="Dynamic Items 为我们带来更丰富的动画体验。"/><meta name="og:description" content="Dynamic Items 为我们带来更丰富的动画体验。"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Ckitakishi.playground"/></head><body class="item-page"><header><div class="wrapper"><a href="/" class="site-name">Ckitakishi.playground</a><nav><ul><li><a href="/">Home</a></li><li><a href="/posts" class="selected">Writing</a></li><li><a href="https://github.com/Ckitakishi?tab=repositories">Project</a></li><li><a href="/tags/求索集/">求索集</a></li><li><a href="/tags/浮生记/">浮生记</a></li><li><a href="/feed.rss">RSS</a></li></ul></nav></div></header><div class="wrapper"><article><div class="content"><h1>UIKit Dynamics--iOS7</h1><h2>Dynamic Items 简介</h2><p><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIDynamicItem_Protocol/Reference/Reference.html">Apple Library相关的</a> UIKit Dynamics 的焦点都是关于 items 之间相互的作用及其动画。有一个要求，为了在一个 item 上使用 dynamic behavior，item必须满足 <code>UIDynamicItem</code> 协议。该协议定义了三个重要的属性，<code>bounds</code>，<code>center</code>，<code>transform</code>。<code>bounds</code>属性是readonly的,<code>center</code>,<code>transform</code> 属性是read/write的，<code>center</code> 需要更新动画的进度,<code>transform</code> 属性返回一个 <code>CGAffineTransform</code> 的对象。</p><p>从 iOS7 开始，默认的只有 <code>UIView</code> 和 <code>UICollectionViewLayoutAttributes</code> 类可实现该协议。但是，仍然可以自己创建类去实现之。</p><pre><code><span class="keyword">@property</span>(nonatomic, readonly) <span class="type">CGRect</span> bounds
<span class="keyword">@property</span>(nonatomic, readwrite) <span class="type">CGPoint</span> center
<span class="keyword">@property</span>(nonatomic, readwrite) <span class="type">CGAffineTransform</span> transform
</code></pre><h3>Dynamic Behaviors</h3><p>在 UIKit Dynamics 中，一个 Dynamic Behavior 模拟的是真实世界的物理行为。包含以下六个类： <em> UIAttachmentBehavior </em> UICollisionBehavior <em> UIGravityBehavior </em> UIPushBehavior <em> UISnapBehavior </em> UIDynamicItemBehavior</p><p>前五个分别是--附着、碰撞、重力、推力、捕捉。最后一个不是一个具体的行为，但是也很有用~按我的理解就是可以设置一个物体的本质属性，不依赖于外界而存在的。</p><p>最近写代码用到 UIDynamicItemBehavior，感觉太棒了！ <em> allowsRotation 是否可以旋转；默认YES； </em> density 密度；默认1.0; <em> elasticity 弹性系数；默认0.0； </em> friction 摩擦系数；默认0.0； * resistance 阻力；默认0.0；</p><p>当时想要让一个球能够一开始就有方向有速度的运动，以下两个函数不能再赞，很简便。</p><pre><code>  – <span class="call">addAngularVelocity</span>(<span class="type">CGFloat</span>):<span class="call">forItem</span>(id[<span class="type">UIDynamicItem</span>])<span class="comment">//设置角速度</span>
 – <span class="call">addLinearVelocity</span>(<span class="type">CGPoint</span>):<span class="call">forItem</span>(id[<span class="type">UIDynamicItem</span>])<span class="comment">//设置线速度
//angularResistance角度阻力系数</span>
</code></pre><h3>UIDynamicAnimator</h3><p>UIDynamicBehavior 需要添加到 animator 上才能发生作用；</p><h3>ReferenceView</h3><p>等同于力学参考系。</p></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/求索集">求索集</a></li><li><a href="/tags/ios">iOS</a></li><li><a href="/tags/objectivec">Objective-C</a></li></ul></article></div><footer><p>Copyright © 2014-2022 Ckitakishi 🥑 Powered by <a href="https://github.com/johnsundell/publish">Publish</a></p></footer></body></html>