<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"/><meta name="og:site_name" content=""Ckitakishi...""/><link rel="canonical" href="ckitakishi.com/posts/uikit-dynamics--ios7"/><meta name="twitter:url" content="ckitakishi.com/posts/uikit-dynamics--ios7"/><meta name="og:url" content="ckitakishi.com/posts/uikit-dynamics--ios7"/><title>UIKit Dynamics--iOS7 | "Ckitakishi..."</title><meta name="twitter:title" content="UIKit Dynamics--iOS7 | "Ckitakishi...""/><meta name="og:title" content="UIKit Dynamics--iOS7 | "Ckitakishi...""/><meta name="description" content="Dynamic Items 为我们带来更丰富的动画体验。"/><meta name="twitter:description" content="Dynamic Items 为我们带来更丰富的动画体验。"/><meta name="og:description" content="Dynamic Items 为我们带来更丰富的动画体验。"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to "Ckitakishi...""/></head><body class="item-page"><div class="flex flex-col min-h-full text-zinc-900 dark:text-zinc-50"><div class="grid grid-cols-8 w-full h-[8px]"><div class="bg-[#ab4642]"></div><div class="bg-[#dc9656]"></div><div class="bg-[#f7ca88]"></div><div class="bg-[#a1b56c]"></div><div class="bg-[#86c1b9]"></div><div class="bg-[#7cafc2]"></div><div class="bg-[#ba8baf]"></div><div class="bg-[#a16946]"></div></div><header class="flex justify-center p-4 text-zinc-900 dark:text-zinc-50"><div class="flex flex-wrap justify-between my-4 gap-x-16 max-w-screen-lg w-full"><a href="/" class="font-extrabold text-3xl">"Ckitakishi..."</a><nav class="my-auto"><ul class="flex flex-wrap gap-4"><li><a href="/" class="hover:underline underline-offset-4">Home</a></li><li><a href="/posts" class="hover:underline underline-offset-4">Writing</a></li><li><a href="/tags/求索集/" class="hover:underline underline-offset-4">求索集</a></li><li><a href="/tags/浮生记/" class="hover:underline underline-offset-4">浮生记</a></li><li><a href="/feed.rss" class="hover:underline underline-offset-4">RSS</a></li></ul></nav></div></header><div class="flex justify-center mx-4"><div class="max-w-screen-md w-full m-4"><div class="flex text-zinc-600 dark:text-zinc-50 mb-1"><p class="flex shrink-0">Mar 22, 2014</p><p class="mx-3 text-lg -mt-0.5">|</p><ul class="flex flex-wrap gap-2"><li><a href="/tags/求索集" class="hashtag link-underline">求索集</a></li><li><a href="/tags/ios" class="hashtag link-underline">iOS</a></li><li><a href="/tags/objectivec" class="hashtag link-underline">Objective-C</a></li></ul></div><article class="prose prose-zinc min-w-full dark:prose-invert"><div class="content"><h1>UIKit Dynamics--iOS7</h1><h2>Dynamic Items 简介</h2><p><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIDynamicItem_Protocol/Reference/Reference.html">Apple Library相关的</a> UIKit Dynamics 的焦点都是关于 items 之间相互的作用及其动画。有一个要求，为了在一个 item 上使用 dynamic behavior，item必须满足 <code>UIDynamicItem</code> 协议。该协议定义了三个重要的属性，<code>bounds</code>，<code>center</code>，<code>transform</code>。<code>bounds</code>属性是readonly的,<code>center</code>,<code>transform</code> 属性是read/write的，<code>center</code> 需要更新动画的进度,<code>transform</code> 属性返回一个 <code>CGAffineTransform</code> 的对象。</p><p>从 iOS7 开始，默认的只有 <code>UIView</code> 和 <code>UICollectionViewLayoutAttributes</code> 类可实现该协议。但是，仍然可以自己创建类去实现之。</p><pre><code><span class="keyword">@property</span>(nonatomic, readonly) <span class="type">CGRect</span> bounds
<span class="keyword">@property</span>(nonatomic, readwrite) <span class="type">CGPoint</span> center
<span class="keyword">@property</span>(nonatomic, readwrite) <span class="type">CGAffineTransform</span> transform
</code></pre><h3>Dynamic Behaviors</h3><p>在 UIKit Dynamics 中，一个 Dynamic Behavior 模拟的是真实世界的物理行为。包含以下六个类：</p><ul><li>UIAttachmentBehavior</li><li>UICollisionBehavior</li><li>UIGravityBehavior</li><li>UIPushBehavior</li><li>UISnapBehavior</li><li>UIDynamicItemBehavior</li></ul><p>前五个分别是--附着、碰撞、重力、推力、捕捉。最后一个不是一个具体的行为，但是也很有用~按我的理解就是可以设置一个物体的本质属性，不依赖于外界而存在的。</p><p>最近写代码用到 <code>UIDynamicItemBehavior</code>，感觉太棒了！</p><ul><li>allowsRotation 是否可以旋转；默认YES；</li><li>density 密度；默认1.0;</li><li>elasticity 弹性系数；默认0.0；</li><li>friction 摩擦系数；默认0.0；</li><li>resistance 阻力；默认0.0；</li></ul><p>当时想要让一个球能够一开始就有方向有速度的运动，以下两个函数不能再赞，很简便。</p><pre><code>– <span class="call">addAngularVelocity</span>(<span class="type">CGFloat</span>):<span class="call">forItem</span>(id[<span class="type">UIDynamicItem</span>]) <span class="comment">//设置角速度</span>
– <span class="call">addLinearVelocity</span>(<span class="type">CGPoint</span>):<span class="call">forItem</span>(id[<span class="type">UIDynamicItem</span>]) <span class="comment">//设置线速度</span>
</code></pre><h3>UIDynamicAnimator</h3><p><code>UIDynamicBehavior</code> 需要添加到 <code>animator</code> 上才能发生作用；</p><h3>ReferenceView</h3><p>等同于力学参考系。</p></div></article><div class="giscus mt-20"></div></div></div><footer class="flex flex-col text-sm font-light mt-auto text-zinc-500 dark:text-zinc-400"><p class="text-center mt-16">Copyright © 2014-2022 Ckitakishi</p><p class="text-center mt-1">Powered by <a href="https://github.com/johnsundell/publish" class="link-underline">Publish</a> &amp; <a href="https://github.com/Ckitakishi/PaletteTheme" class="link-underline">Palette</a></p><div class="grid grid-cols-8 w-full h-[8px] mt-6"><div class="bg-[#ab4642]"></div><div class="bg-[#dc9656]"></div><div class="bg-[#f7ca88]"></div><div class="bg-[#a1b56c]"></div><div class="bg-[#86c1b9]"></div><div class="bg-[#7cafc2]"></div><div class="bg-[#ba8baf]"></div><div class="bg-[#a16946]"></div></div></footer></div><script src="https://giscus.app/client.js"
        data-repo="Ckitakishi/Ckitakishi.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkxNTU4Njk1OQ=="
        data-category="General"
        data-category-id="DIC_kwDOAO3Wj84CBSR7"
        data-mapping="pathname"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script></body></html>